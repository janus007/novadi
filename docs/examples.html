<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NovaDI Examples - Usage Patterns and Demos</title>

    <!-- Theme Init - Must load BEFORE CSS to prevent flash -->
    <script>
      (function() {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedTheme = localStorage.getItem('theme');
        const theme = savedTheme || (prefersDark ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', theme);
      })();
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Roboto+Slab:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=optional" rel="stylesheet">

    <link rel="stylesheet" href="css/docs.css">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

    <style>
    /* ============================================
       DEMO-SPECIFIC STYLES
       Global styles are loaded from docs.css
       ============================================ */

    .demo-grid {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 24px;
    }

    .demo-card {
      background: var(--surface);
      border: 1px solid var(--border-default);
      border-radius: 4px;
      padding: 16px;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
    }

    .demo-card:hover {
      border-color: var(--accent-teal);
      box-shadow: var(--shadow-md);
    }

    .demo-card-header {
      cursor: pointer;
      -webkit-user-select: none;
      user-select: none;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .demo-card-header:hover h3 {
      color: var(--accent-teal);
    }

    .demo-card h3 {
      color: var(--text-primary);
      margin: 0;
      font-size: 16px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: color 0.2s;
    }

    .expand-icon {
      font-size: 14px;
      color: var(--text-muted);
      transition: transform 0.3s ease;
    }

    .expand-icon.expanded {
      transform: rotate(180deg);
    }

    .demo-icon {
      font-size: 18px;
    }

    .demo-card p {
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 12px;
      font-size: 14px;
    }

    .features-list {
      list-style: none;
      margin: 12px 0;
    }

    .features-list li {
      padding: 5px 0;
      color: var(--text-secondary);
      font-size: 14px;
    }

    .features-list li::before {
      content: "‚Ä¢ ";
      color: var(--accent-teal);
      font-weight: bold;
      margin-right: 6px;
    }

    .status {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 3px;
      font-size: 11px;
      font-weight: 600;
      margin-top: 8px;
      font-family: var(--font-mono);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .status-pending {
      background: var(--badge-yellow-bg, #FEF3C7);
      color: var(--badge-yellow-text, #92400E);
      border: 1px solid var(--badge-yellow-border, #FCD34D);
    }

    .status-running {
      background: var(--badge-blue-bg, #DBEAFE);
      color: var(--badge-blue-text, #1E40AF);
      border: 1px solid var(--badge-blue-border, #93C5FD);
      animation: pulse 1.5s infinite;
    }

    .status-completed {
      background: var(--badge-green-bg, #D1FAE5);
      color: var(--badge-green-text, #065F46);
      border: 1px solid var(--badge-green-border, #6EE7B7);
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    .demo-registry {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease-out;
      margin-top: 15px;
    }

    .demo-registry.expanded {
      max-height: 2000px;
    }

    .code-section {
      background: var(--surface);
      border-radius: 4px;
      padding: 12px;
      margin-bottom: 12px;
      border: 1px solid var(--border-default);
    }

    .code-section h4 {
      color: var(--text-primary);
      font-size: 11px;
      margin-bottom: 8px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .code-block {
      background: var(--surface);
      border: 1px solid var(--border-default);
      border-radius: 3px;
      padding: 10px;
      overflow-x: auto;
      margin: 0;
    }

    .code-block code {
      font-family: var(--font-mono);
      font-size: 13px;
      line-height: 1.7;
      color: var(--text-primary);
      display: block;
      white-space: pre;
    }

    /* Syntax Highlighting */
    .code-block .keyword {
      color: var(--syntax-keyword);
      font-weight: 600;
    }

    .code-block .string {
      color: var(--syntax-string);
    }

    .code-block .function {
      color: var(--syntax-function);
      font-weight: 600;
    }

    .code-block .comment {
      color: var(--syntax-comment);
      font-style: italic;
    }

    .code-block .number {
      color: var(--syntax-number);
    }

    .code-block .operator {
      color: var(--syntax-operator);
    }

    .code-block .variable {
      color: var(--syntax-variable);
    }

    .registry-section {
      background: var(--bg-secondary);
      border-radius: 4px;
      padding: 12px;
      margin-bottom: 12px;
      border: 1px solid var(--border-default);
    }

    .registry-section h4 {
      color: var(--text-primary);
      font-size: 11px;
      margin-bottom: 8px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .registry-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      font-family: var(--font-mono);
    }

    .registry-table th {
      text-align: left;
      padding: 8px 10px;
      background: var(--bg-secondary);
      color: var(--text-secondary);
      font-weight: 600;
      border-bottom: 1px solid var(--border-default);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-size: 12px;
    }

    .registry-table td {
      padding: 8px 10px;
      border-bottom: 1px solid var(--border-muted);
      color: var(--text-primary);
      word-break: break-word;
    }

    .registry-table td small {
      color: var(--text-muted);
      font-size: 12px;
    }

    .registry-table tr:hover {
      background: var(--bg-secondary);
    }

    .lifetime-badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 3px;
      font-size: 11px;
      font-weight: 600;
      font-family: var(--font-mono);
    }

    .lifetime-singleton {
      background: var(--badge-green-bg, #D1FAE5);
      color: var(--badge-green-text, #065F46);
      border: 1px solid var(--badge-green-border, #6EE7B7);
    }

    .lifetime-transient {
      background: var(--badge-yellow-bg, #FEF3C7);
      color: var(--badge-yellow-text, #92400E);
      border: 1px solid var(--badge-yellow-border, #FCD34D);
    }

    .lifetime-per-request {
      background: var(--badge-blue-bg, #DBEAFE);
      color: var(--badge-blue-text, #1E40AF);
      border: 1px solid var(--badge-blue-border, #93C5FD);
    }

    .type-badge {
      font-family: var(--font-mono);
      color: var(--accent-teal);
      font-size: 13px;
    }

    .empty-registry {
      color: var(--text-muted);
      font-style: italic;
      text-align: center;
      padding: 16px;
      font-size: 14px;
    }

    .controls {
      text-align: center;
      margin: 32px 0;
    }

    .btn-primary {
      background: var(--accent-blue);
      color: white;
      border: none;
      padding: 12px 28px;
      font-size: 14px;
      font-weight: 600;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn-primary:hover:not(:disabled) {
      background: var(--accent-primary-dark);
      box-shadow: var(--shadow-md);
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .console-notice {
      background: var(--badge-red-bg, #FEF2F2);
      border: 1px solid var(--badge-red-border, #FCA5A5);
      padding: 16px;
      border-radius: 4px;
      text-align: center;
      margin-top: 24px;
    }

    .console-notice h4 {
      color: var(--badge-red-text, #991B1B);
      margin-bottom: 8px;
      font-size: 14px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .console-notice p {
      color: var(--text-secondary);
      line-height: 1.6;
      font-size: 14px;
    }

    .console-notice kbd {
      background: var(--surface);
      padding: 3px 7px;
      border-radius: 3px;
      font-family: var(--font-mono);
      color: var(--text-primary);
      font-weight: 600;
      border: 1px solid var(--border-default);
      font-size: 13px;
    }

    /* Prism.js - Simple styling (matches docs.css) */
    pre[class*="language-"],
    code[class*="language-"] {
      font-family: var(--font-mono) !important;
      font-size: 11px !important;
    }
    </style>
  </head>
  <body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-button" aria-label="Toggle navigation menu">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>

    <!-- Mobile Menu Backdrop -->
    <div class="mobile-menu-backdrop"></div>

    <!-- Header -->
    <header class="main-header">
      <a href="index.html" class="header-logo">NovaDI</a>
      <div class="header-links">
        <a href="https://www.npmjs.com/package/@novadi/core" target="_blank" rel="noopener noreferrer">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331zM10.665 10H12v2.667h-1.335V10z"></path>
          </svg>
          npm
        </a>
        <a href="https://github.com/janus007/NovaDI" target="_blank" rel="noopener noreferrer">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
          </svg>
          GitHub
        </a>
        <button type="submit" id="theme-toggle" aria-label="Toggle theme">
          <span class="theme-icon">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"></path></svg>
          </span>
        </button>
      </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="main-nav">
      <div class="nav-container">
        <div class="api-search-container">
          <input type="text" class="api-search" placeholder="Search API..." aria-label="Search API">
          <svg class="api-search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
        </div>

        <ul class="nav-links">
          <li class="nav-group">
            <div class="nav-group-title">Documentation</div>
            <a href="getting-started.html">Getting Started</a>
            <a href="guide.html">Documentation</a>
            <a href="api-reference.html">API Reference</a>
            <a href="why.html">Why is DI this important?</a>
            <a href="design-philosophy.html">Design Philosophy</a>
          </li>
          <li class="nav-group">
            <div class="nav-group-title">Resources</div>
            <a href="roadmap.html">NovaDI Roadmap & Ideas</a>
            <a href="demo.html">Performance Benchmarks</a>
            <a href="examples.html" class="active">Examples</a>
          </li>
        </ul>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Hero Section -->
      <div class="hero">
        <div class="container">
          <h1 class="hero-title">NovaDI Examples</h1>
          <p class="hero-subtitle">Interactive demonstrations of NovaDI patterns and usage</p>
          <div>
            <span class="tech-badge">TypeScript 5+</span>
            <span class="tech-badge">Zero Decorators</span>
            <span class="tech-badge">TS Transformer</span>
            <span class="tech-badge">Browser-First</span>
            <span class="tech-badge">Type-Safe</span>
          </div>
        </div>
      </div>

      <!-- Content -->
      <div class="container" class="py-section">
        <div class="info-box">
          <h3>üìã About These Examples</h3>
          <p>
            This page showcases <strong>NovaDI</strong> usage patterns through interactive examples
            that demonstrate different DI features and patterns. <strong>Open your browser console</strong> (<kbd>F12</kbd>)
            to see detailed execution logs with grouped output showing how dependencies are resolved and services interact.
          </p>
          <p class="section-note">
            <strong>‚ú® TypeScript Transformer:</strong> NovaDI includes a compile-time transformer that automatically
            injects type names into <code>.as&lt;T&gt;()</code> calls, eliminating the need for string literals
            while maintaining full type safety. Write clean, intuitive code: <code>.as&lt;ILogger&gt;()</code>
            instead of <code>.as&lt;ILogger&gt;("ILogger")</code>.
          </p>

          <p class="section-note">
            <strong>‚ö° Performance:</strong> For performance benchmarks comparing NovaDI with other DI frameworks,
            see the <a href="demo.html">Benchmarks page</a>.
          </p>

          <p class="section-note">
            <strong>üìñ Static Examples:</strong> All examples below are shown with expanded code snippets.
            Click the headers to collapse/expand sections.
          </p>
        </div>

        <div class="demo-grid">
          <div class="demo-card" id="demo0-card">
            <div class="demo-card-header" onclick="toggleRegistry('demo0')">
              <div>
                <h3><span class="demo-icon">üåü</span> Example 1: Simplest Case</h3>
              </div>
              <span class="expand-icon expanded" id="demo0-expand">‚ñº</span>
            </div>
            <p>The absolute simplest usage - just .as&lt;T&gt;() and .resolveType&lt;T&gt;()!</p>
            <ul class="features-list">
              <li>No Token&lt;T&gt;() needed - transformer injects type names</li>
              <li>No .autoWire() configuration needed</li>
              <li>Clean, intuitive API</li>
            </ul>
            <div class="demo-registry expanded" id="demo0-registry">
              <div class="code-section">
                <h4>üíª Code Example</h4>
            <pre class="line-numbers"><code class="language-typescript">// Create container
const container = new Container()
const builder = container.builder()

// Register services without any dependencies
builder.registerType(ConsoleLogger).as&lt;ILogger&gt;().singleInstance()
builder.registerType(EventBus).as&lt;IEventBus&gt;().singleInstance()

const app = builder.build()

// Resolve services
const logger = app.resolveType&lt;ILogger&gt;()
const eventBus = app.resolveType&lt;IEventBus&gt;()

// Use them
logger.info('Simple registration works!', 'Demo0')
eventBus.publish('demo:started', { demo: 0 })</code></pre>
              </div>
            </div>
          </div>

          <div class="demo-card" id="demo1-card">
            <div class="demo-card-header" onclick="toggleRegistry('demo1')">
              <div>
                <h3><span class="demo-icon">üì¶</span> Example 2: Basic DI with Autowiring</h3>
              </div>
              <span class="expand-icon expanded" id="demo1-expand">‚ñº</span>
            </div>
            <p>Dependency injection with autowiring - automatic dependency resolution.</p>
            <ul class="features-list">
              <li>Interface registration</li>
              <li>Autowired dependencies</li>
              <li>Singleton lifetime</li>
            </ul>
            <div class="demo-registry expanded" id="demo1-registry">
              <div class="code-section">
                <h4>üíª Code Example</h4>
            <pre class="line-numbers"><code class="language-typescript">const container = new Container()
const builder = container.builder()

// Register logger first
builder.registerType(ConsoleLogger).as&lt;ILogger&gt;().singleInstance()

// Register EventBus with autowired logger dependency
builder
  .registerType(EventBus)
  .as&lt;IEventBus&gt;()
  .autoWire({
    map: {
      logger: (c) => c.resolveType&lt;ILogger&gt;()
    }
  })
  .singleInstance()

const app = builder.build()

// Resolve dependencies
const logger = app.resolveType&lt;ILogger&gt;()
const eventBus = app.resolveType&lt;IEventBus&gt;()

logger.info('Smart Home system initialized', 'Demo1')
eventBus.publish('system:ready', { timestamp: Date.now() })</code></pre>
              </div>
            </div>
          </div>

          <div class="demo-card" id="demo2-card">
            <div class="demo-card-header" onclick="toggleRegistry('demo2')">
              <div>
                <h3><span class="demo-icon">üîÄ</span> Example 3: Multiple Implementations</h3>
              </div>
              <span class="expand-icon expanded" id="demo2-expand">‚ñº</span>
            </div>
            <p>Register multiple implementations of the same interface using keyed services.</p>
            <ul class="features-list">
              <li>Keyed services</li>
              <li>resolveTypeKeyed()</li>
              <li>resolveTypeAll()</li>
            </ul>
            <div class="demo-registry expanded" id="demo2-registry">
              <div class="code-section">
                <h4>üíª Code Example</h4>
            <pre class="line-numbers"><code class="language-typescript">const builder = new Container().builder()

// Register multiple logger implementations
builder.registerType(ConsoleLogger).as&lt;ILogger&gt;() // Default
builder.registerType(FileLogger).as&lt;ILogger&gt;().keyed('file')

const app = builder.build()

// Resolve default and keyed loggers
const defaultLogger = app.resolveType&lt;ILogger&gt;()
const fileLogger = app.resolveTypeKeyed&lt;ILogger&gt;('file')
const allLoggers = app.resolveTypeAll&lt;ILogger&gt;()

console.log('Default logger:', defaultLogger.constructor.name)
console.log('File logger (keyed):', fileLogger.constructor.name)
console.log('All loggers:', allLoggers.map(l => l.constructor.name).join(', '))

defaultLogger.log('Logging to console', 'Demo2')
fileLogger.log('Logging to file', 'Demo2')</code></pre>
              </div>
            </div>
          </div>

          <div class="demo-card" id="demo3-card">
            <div class="demo-card-header" onclick="toggleRegistry('demo3')">
              <div>
                <h3><span class="demo-icon">üîß</span> Example 4: Autowired Dependencies</h3>
              </div>
              <span class="expand-icon expanded" id="demo3-expand">‚ñº</span>
            </div>
            <p>Automatic dependency resolution through constructor injection.</p>
            <ul class="features-list">
              <li>Constructor injection</li>
              <li>Dependency graphs</li>
              <li>Type safety</li>
            </ul>
            <div class="demo-registry expanded" id="demo3-registry">
              <div class="code-section">
                <h4>üíª Code Example</h4>
            <pre class="line-numbers"><code class="language-typescript">const builder = new Container().builder()

// Register with dependencies
builder.registerType(ConsoleLogger).as&lt;ILogger&gt;().singleInstance()

builder
  .registerInstance(new TemperatureSensor('temp-1', 'Bedroom Temp', 'bedroom', 21))
  .as&lt;ISensor&gt;()

builder
  .registerType(SmartLight)
  .as&lt;IDevice&gt;()
  .autoWire({
    map: {
      id: () => 'light-1',
      name: () => 'Bedroom Light',
      roomId: () => 'bedroom',
      logger: (c) => c.resolveType&lt;ILogger&gt;()
    }
  })

const app = builder.build()

const sensor = app.resolveType&lt;ISensor&gt;()
const light = app.resolveType&lt;IDevice&gt;()

console.log(`Temperature: ${sensor.getValue()}${sensor.getUnit()}`)
light.turnOn()</code></pre>
              </div>
            </div>
          </div>

          <div class="demo-card" id="demo4-card">
            <div class="demo-card-header" onclick="toggleRegistry('demo4')">
              <div>
                <h3><span class="demo-icon">üè†</span> Example 5: Scoped Containers</h3>
              </div>
              <span class="expand-icon expanded" id="demo4-expand">‚ñº</span>
            </div>
            <p>Isolated dependency scopes using child containers (per-room isolation).</p>
            <ul class="features-list">
              <li>Child containers</li>
              <li>Scope isolation</li>
              <li>Shared singletons</li>
            </ul>
            <div class="demo-registry expanded" id="demo4-registry">
              <div class="code-section">
                <h4>üíª Code Example</h4>
            <pre class="line-numbers"><code class="language-typescript">// Create parent container with shared services
const parentBuilder = new Container().builder()
parentBuilder.registerType(ConsoleLogger).as&lt;ILogger&gt;().singleInstance()
const parentContainer = parentBuilder.build()

// Create room-specific child containers
const livingRoomBuilder = parentContainer.createChild().builder()
livingRoomBuilder.registerInstance(
  new TemperatureSensor('lr-temp', 'Living Room Temp', 'living-room', 23)
).as&lt;ISensor&gt;()
const livingRoomContainer = livingRoomBuilder.build()

const bedroomBuilder = parentContainer.createChild().builder()
bedroomBuilder.registerInstance(
  new TemperatureSensor('br-temp', 'Bedroom Temp', 'bedroom', 19)
).as&lt;ISensor&gt;()
const bedroomContainer = bedroomBuilder.build()

// Resolve from each scope
const lrSensor = livingRoomContainer.resolveType&lt;ISensor&gt;()
const brSensor = bedroomContainer.resolveType&lt;ISensor&gt;()
const lrLogger = livingRoomContainer.resolveType&lt;ILogger&gt;()
const brLogger = bedroomContainer.resolveType&lt;ILogger&gt;()

console.log(`Living Room temp: ${lrSensor.getValue()}¬∞C`)
console.log(`Bedroom temp: ${brSensor.getValue()}¬∞C`)
console.log('Both rooms share the same logger:', lrLogger === brLogger)</code></pre>
              </div>
            </div>
          </div>

          <div class="demo-card" id="demo5-card">
            <div class="demo-card-header" onclick="toggleRegistry('demo5')">
              <div>
                <h3><span class="demo-icon">ü§ñ</span> Example 6: Complex Automation System</h3>
              </div>
              <span class="expand-icon expanded" id="demo5-expand">‚ñº</span>
            </div>
            <p>Complete real-world application with complex dependency graphs and automation rules.</p>
            <ul class="features-list">
              <li>Multi-layer architecture</li>
              <li>Event-driven system</li>
              <li>Multiple keyed services</li>
              <li>Complex dependency graph</li>
            </ul>
            <div class="demo-registry expanded" id="demo5-registry">
              <div class="code-section">
                <h4>üíª Code Example</h4>
            <pre class="line-numbers"><code class="language-typescript">const builder = new Container().builder()

// Core services
builder.registerType(ConsoleLogger).as&lt;ILogger&gt;().singleInstance()
builder
  .registerType(EventBus)
  .as&lt;IEventBus&gt;()
  .autoWire({ map: { logger: (c) => c.resolveType&lt;ILogger&gt;() } })
  .singleInstance()

builder
  .registerType(AutomationService)
  .as&lt;AutomationService&gt;()
  .autoWire({
    map: {
      logger: (c) => c.resolveType&lt;ILogger&gt;(),
      eventBus: (c) => c.resolveType&lt;IEventBus&gt;()
    }
  })
  .singleInstance()

// Sensors (keyed registration for multiple sensors)
builder
  .registerInstance(new TemperatureSensor('auto-temp', 'Auto Temp', 'office', 22))
  .as&lt;ISensor&gt;()
  .keyed('TempSensor')

builder
  .registerInstance(new MotionSensor('auto-motion', 'Auto Motion', 'office'))
  .as&lt;ISensor&gt;()
  .keyed('MotionSensor')

// Devices (keyed registration for multiple devices)
builder
  .registerType(SmartThermostat)
  .as&lt;IDevice&gt;()
  .keyed('Thermostat')
  .autoWire({
    map: {
      id: () => 'auto-thermo',
      name: () => 'Auto Thermostat',
      roomId: () => 'office',
      logger: (c) => c.resolveType&lt;ILogger&gt;()
    }
  })

const app = builder.build()

// Resolve all components
const automationService = app.resolveType&lt;AutomationService&gt;()
const tempSensor = app.resolveTypeKeyed&lt;ISensor&gt;('TempSensor')
const thermostat = app.resolveTypeKeyed&lt;IDevice&gt;('Thermostat')

// Create and register automation rules
const tempRule = new TemperatureAutomationRule(
  'temp-rule-1',
  'Temperature Control',
  tempSensor,
  thermostat,
  24,
  logger,
  eventBus
)
automationService.addRule(tempRule)
automationService.start()</code></pre>
              </div>
            </div>
          </div>

          <!-- Demo 6: Plugin System with Array Injection -->
          <div class="demo-card" id="demo6-card">
            <div class="demo-card-header" onclick="toggleRegistry('demo6')">
              <div>
                <h3><span class="demo-icon">üîå</span> Example 7: Plugin System with Array Injection</h3>
              </div>
              <span class="expand-icon expanded" id="demo6-expand">‚ñº</span>
            </div>
            <p><strong>NEW!</strong> Automatically inject ALL implementations of an interface using array parameters. Perfect for plugins, event handlers, and middleware.</p>
            <ul class="features-list">
              <li>Automatic array injection</li>
              <li>Multiple plugin implementations</li>
              <li>Zero manual configuration</li>
              <li>Transformer-powered</li>
            </ul>
            <div class="demo-registry expanded" id="demo6-registry">
              <div class="code-section">
                <h4>üíª Code Example</h4>
            <pre class="line-numbers"><code class="language-typescript">// Define plugin interface
interface IPlugin {
  name: string
  execute(): string
}

// Create multiple plugin implementations
class ValidationPlugin implements IPlugin {
  name = 'validation'
  execute(): string {
    console.log('Validating...')
    return 'validated'
  }
}

class AuthPlugin implements IPlugin {
  name = 'auth'
  execute(): string {
    console.log('Authenticating...')
    return 'authenticated'
  }
}

class LoggingPlugin implements IPlugin {
  name = 'logging'
  execute(): string {
    console.log('Logging...')
    return 'logged'
  }
}

// Plugin host with array parameter - transformer auto-detects!
class PluginHost {
  constructor(public plugins: IPlugin[]) {}  // ‚ú® Array injection

  executeAll(): string[] {
    console.log(`Executing ${this.plugins.length} plugins...`)
    return this.plugins.map(p => {
      console.log(`  - ${p.name}`)
      return p.execute()
    })
  }

  getPluginNames(): string[] {
    return this.plugins.map(p => p.name)
  }
}

// Setup container
const builder = new Container().builder()

// Register all plugins
builder.registerType(ValidationPlugin).as&lt;IPlugin&gt;()
builder.registerType(AuthPlugin).as&lt;IPlugin&gt;()
builder.registerType(LoggingPlugin).as&lt;IPlugin&gt;()

// Register host - transformer automatically generates resolveTypeAll()!
builder.registerType(PluginHost).as&lt;PluginHost&gt;()

// Build and resolve
const app = builder.build()
const host = app.resolveType&lt;PluginHost&gt;()

// Use the plugin system
console.log('Registered plugins:', host.getPluginNames())
// Output: ['validation', 'auth', 'logging']

const results = host.executeAll()
// Output:
//   Executing 3 plugins...
//     - validation
//     - auth
//     - logging

console.log('Results:', results)
// Output: ['validated', 'authenticated', 'logged']</code></pre>
              </div>
              <div class="code-section">
                <h4>üîç What the Transformer Generates</h4>
            <pre class="line-numbers"><code class="language-typescript">// Before transformation:
builder.registerType(PluginHost).as&lt;PluginHost&gt;()

// After transformation (automatic!):
builder.registerType(PluginHost).as&lt;PluginHost&gt;().autoWire({
  mapResolvers: [
    (c) => c.resolveTypeAll("IPlugin")  // üéØ Auto-generated!
  ]
})

// Supported array syntaxes:
// ‚úÖ IPlugin[]
// ‚úÖ Array&lt;IPlugin&gt;
// ‚úÖ readonly IPlugin[]</code></pre>
              </div>
              <div class="code-section">
                <h4>üì¶ Use Cases</h4>
                <ul class="features-list">
                  <li>üîå <strong>Plugin systems</strong> - Load all plugins dynamically</li>
                  <li>üì® <strong>Event handlers</strong> - All subscribers to same event</li>
                  <li>üîó <strong>Middleware</strong> - Execute through all middleware</li>
                  <li>‚úÖ <strong>Validators</strong> - Run all validation rules</li>
                  <li>üì° <strong>Notifications</strong> - Send to all channels</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

    </main>

    <!-- Footer -->
    <footer class="main-footer">
      <div class="container">
        <p>
          <a href="https://github.com/janus007/NovaDI">View on GitHub</a> ‚Ä¢
          <a href="https://www.npmjs.com/package/@novadi/core">npm</a> ‚Ä¢
          <a href="https://github.com/janus007/NovaDI/issues">Report Issue</a>
        </p>
        <p class="text-secondary">Built with ‚ù§Ô∏è for TypeScript developers</p>
      </div>
    </footer>

    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <!-- Docs JavaScript (theme toggle, etc.) -->
    <script src="js/docs.js"></script>

    <!-- Toggle functionality for expanding/collapsing examples -->
    <script>
    window.toggleRegistry = (demo) => {
      const registryEl = document.getElementById(`${demo}-registry`)
      const expandIcon = document.getElementById(`${demo}-expand`)

      if (registryEl && expandIcon) {
        registryEl.classList.toggle('expanded')
        expandIcon.classList.toggle('expanded')
      }
    }
    </script>
  </body>
</html>
